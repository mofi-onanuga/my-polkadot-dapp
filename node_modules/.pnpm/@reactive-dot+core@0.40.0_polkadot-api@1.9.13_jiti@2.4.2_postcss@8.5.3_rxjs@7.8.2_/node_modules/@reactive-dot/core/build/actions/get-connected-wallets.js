import { toObservable } from "../utils/to-observable.js";
import { combineLatest, of } from "rxjs";
import { map, switchMap } from "rxjs/operators";
export function getConnectedWallets(wallets) {
    return toObservable(wallets).pipe(switchMap((wallets) => {
        if (wallets.length === 0) {
            return of([]);
        }
        return combineLatest(wallets.map((wallet) => wallet.connected$.pipe(map((connected) => [wallet, connected]))));
    }), map((wallets) => wallets.filter(([_, connected]) => connected).map(([wallet]) => wallet)));
}
//# sourceMappingURL=get-connected-wallets.js.map