import { createClientFromLightClientProvider, isLightClientProvider, } from "../providers/light-client/provider.js";
import { createClient } from "polkadot-api";
export async function getClient(chainConfig) {
    const providerOrGetter = await chainConfig.provider;
    if (isLightClientProvider(providerOrGetter)) {
        return createClientFromLightClientProvider(providerOrGetter);
    }
    // Hack to detect wether function is a `JsonRpcProvider` or a getter of `JsonRpcProvider`
    const providerOrController = await (providerOrGetter.length > 0
        ? providerOrGetter
        : providerOrGetter());
    if (isLightClientProvider(providerOrController)) {
        return createClientFromLightClientProvider(providerOrController);
    }
    return createClient(providerOrController);
}
//# sourceMappingURL=get-client.js.map