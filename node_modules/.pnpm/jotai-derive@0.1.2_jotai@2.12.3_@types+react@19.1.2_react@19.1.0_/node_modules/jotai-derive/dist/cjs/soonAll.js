"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.soonAll = soonAll;
const isPromise_js_1 = require("./isPromise.js");
function isKnown(value) {
    if ((0, isPromise_js_1.isPromise)(value)) {
        return value.status === 'fulfilled'; // only if fulfilled
    }
    return true; // not a promise, we know the value.
}
/**
 * Given array `values`, if all elements are known (are not unresolved promises),
 * returns an array of the same length with Awaited `values`. Otherwise, it returns a
 * promise to that array.
 */
function soonAll(values) {
    if (values.every(isKnown)) {
        return values.map((el) => (0, isPromise_js_1.isPromise)(el) ? el.value : el);
    }
    return Promise.all(values);
}
