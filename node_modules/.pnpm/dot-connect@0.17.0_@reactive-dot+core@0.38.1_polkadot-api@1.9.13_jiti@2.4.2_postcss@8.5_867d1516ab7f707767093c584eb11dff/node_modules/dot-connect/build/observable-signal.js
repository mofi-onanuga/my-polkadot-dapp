import { Signal } from "@lit-labs/preact-signals";
export class ObservableSignal extends Signal {
    #observable;
    #subscription;
    constructor(host, observable, initialValue) {
        super();
        this.#observable = observable;
        this.value = initialValue;
        host.addController(this);
    }
    hostConnected() {
        this.#subscription ??= this.#observable.subscribe({
            next: (value) => (this.value = value),
        });
    }
    hostDisconnected() {
        this.#subscription?.unsubscribe();
        this.#subscription = undefined;
    }
}
export const observableSignal = (host, observable, initialValue) => new ObservableSignal(host, observable, initialValue);
//# sourceMappingURL=observable-signal.js.map